@if(adminDashboardRoute) {
  <p>
    <a [routerLink]="adminDashboardRoute">Go to Admin Dashboard</a>
  </p>
}
<button (click)="logout()">Logout</button>
<button (click)="deleteAccount()" style="margin-left: 10px; color: red;">
  Delete My Account
</button>

<h2>My Groups</h2>
<ul>
  @for(g of myGroups; track $index) {
    <li>
      <a [routerLink]="['/chat', g.id]">{{ g.name }}</a>
      <p>Admins: {{ g.admins.join(', ') }}</p>
      <p>Members: {{ g.members.join(', ') }}</p>

      <!-- âœ… Show leave button if current user is a member -->
      @if(g.members.includes(currentUser?.username || '')) {
        <button (click)="leaveGroup(g.id)">Leave Group</button>
      }
    </li>
  }
</ul>

<h3>Available Groups</h3>
<ul>
  @for(g of availableGroups; track $index) {
    <li>
      {{ g.name }}

      @if(!g.bannedMembers.includes(currentUser?.username || '')) {
        <button (click)="requestJoin(g.id)">Request to Join</button>
      }
      @else {
        <span style="color: red; font-size: 0.9em;">
          You are banned from this group
        </span>
      }
    </li>
  }
</ul>
